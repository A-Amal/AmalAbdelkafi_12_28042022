{"ast":null,"code":"import _slicedToArray from\"D:/fomation Openclassroom/projet12/SportSee/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import data from'../dataMocked';import Activity from\"../components/Activity\";import'../styles/Home.css';import AverageSessions from\"../components/AverageSessions\";import Performance from\"../components/Performance\";import Score from\"../components/Score\";import Stat from\"../components/Stat\";import{useEffect,useState}from\"react\";import{getUser,getUserActivity,getUserAverageSessions,getUserPerformance}from\"../Service\";import{Link,useParams}from\"react-router-dom\";import{MoonLoader}from\"react-spinners\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){var params=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),userApi=_useState2[0],setUserApi=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),activityApi=_useState4[0],setActivityApi=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),sessionsApi=_useState6[0],setSessionsApi=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),performanceApi=_useState8[0],setPerformanceApi=_useState8[1];useEffect(function(){if(!process.env.REACT_APP_USE_API){setUserApi(data.USER_MAIN_DATA.find(function(x){return x.id===params.id;}));setActivityApi(data.USER_ACTIVITY.find(function(x){return x.userId===userApi.id;}));setSessionsApi(data.USER_AVERAGE_SESSIONS.find(function(x){return x.userId===userApi.id;}));setPerformanceApi(data.USER_PERFORMANCE.find(function(x){return x.userId===userApi.id;}));}else{getUser(params.id).then(setUserApi);getUserActivity(params.id).then(setActivityApi);getUserAverageSessions(params.id).then(setSessionsApi);getUserPerformance(params.id).then(setPerformanceApi);}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:params.id==='12'||params.id==='18'?/*#__PURE__*/_jsxs(\"section\",{className:\"homepage\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"section-title\",children:[\"Bonjour \",userApi?userApi.userInfos.firstName:/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"section-secondary\",children:\"F\\xE9licitation ! Vous avez explos\\xE9 vos objectifs hier \\uD83D\\uDC4F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"homepage-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-activity-stats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-activity\",children:activityApi?/*#__PURE__*/_jsx(Activity,{data:activityApi.sessions}):/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-sessions-performance-score\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-average-sessions\",children:sessionsApi?/*#__PURE__*/_jsx(AverageSessions,{data:sessionsApi.sessions}):/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-performance\",children:performanceApi?/*#__PURE__*/_jsx(Performance,{data:performanceApi.data,kind:performanceApi.kind}):/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-score\",children:userApi?/*#__PURE__*/_jsx(Score,{data:userApi.score||userApi.todayScore}):/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stats\",children:userApi?Object.keys(userApi.keyData).map(function(key){return/*#__PURE__*/_jsx(Stat,{type:key,value:userApi.keyData[key]},key);}):/*#__PURE__*/_jsx(MoonLoader,{color:\" #FF0000\",size:'50'})})]})]}):/*#__PURE__*/_jsx(\"section\",{className:\"homepage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-error404\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-error404-title\",children:\"404\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-error404-secondary\",children:\"Oups! La page que vous demandez n'existe pas.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"page-error404-link\",children:\"Retourner sur la page d\\u2019accueil\"})]})})});}export default Home;","map":{"version":3,"sources":["D:/fomation Openclassroom/projet12/SportSee/src/page/Home.js"],"names":["data","Activity","AverageSessions","Performance","Score","Stat","useEffect","useState","getUser","getUserActivity","getUserAverageSessions","getUserPerformance","Link","useParams","MoonLoader","Home","params","userApi","setUserApi","activityApi","setActivityApi","sessionsApi","setSessionsApi","performanceApi","setPerformanceApi","process","env","REACT_APP_USE_API","USER_MAIN_DATA","find","x","id","USER_ACTIVITY","userId","USER_AVERAGE_SESSIONS","USER_PERFORMANCE","then","userInfos","firstName","sessions","kind","score","todayScore","Object","keys","keyData","map","key"],"mappings":"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","sourcesContent":["import data from '../dataMocked'\r\nimport Activity from \"../components/Activity\";\r\nimport '../styles/Home.css'\r\nimport AverageSessions from \"../components/AverageSessions\";\r\nimport Performance from \"../components/Performance\";\r\nimport Score from \"../components/Score\";\r\nimport Stat from \"../components/Stat\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getUser, getUserActivity, getUserAverageSessions, getUserPerformance} from \"../Service\";\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport {MoonLoader} from \"react-spinners\";\r\n\r\n\r\nfunction Home() {\r\n    const params = useParams()\r\n    const [userApi, setUserApi] = useState()\r\n    const [activityApi, setActivityApi] = useState()\r\n    const [sessionsApi, setSessionsApi] = useState()\r\n    const [performanceApi, setPerformanceApi] = useState()\r\n\r\n    useEffect(() => {\r\n        if (!process.env.REACT_APP_USE_API) {\r\n            setUserApi(data.USER_MAIN_DATA.find(x => x.id === params.id))\r\n            setActivityApi(data.USER_ACTIVITY.find(x => x.userId === userApi.id))\r\n            setSessionsApi(data.USER_AVERAGE_SESSIONS.find(x => x.userId === userApi.id))\r\n            setPerformanceApi(data.USER_PERFORMANCE.find(x => x.userId === userApi.id))\r\n        } else {\r\n            getUser(params.id).then(setUserApi)\r\n            getUserActivity(params.id).then(setActivityApi)\r\n            getUserAverageSessions(params.id).then(setSessionsApi)\r\n            getUserPerformance(params.id).then(setPerformanceApi)\r\n        }\r\n\r\n    }, [])\r\n\r\n    return (<>\r\n            {params.id === '12' || params.id === '18' ? (\r\n                <section className=\"homepage\">\r\n                    <header className=\"section-header\">\r\n                        <h1 className=\"section-title\">Bonjour {userApi ? userApi.userInfos.firstName :\r\n                            <MoonLoader color={\" #FF0000\"} size={'50'}/>}</h1>\r\n                        <p className=\"section-secondary\">Félicitation ! Vous avez explosé vos objectifs hier 👏</p>\r\n                    </header>\r\n                    <div className=\"homepage-grid\">\r\n                        <div className=\"chart-activity-stats\">\r\n                            <div className=\"chart-activity\">\r\n                                {activityApi ? <Activity data={activityApi.sessions}/> :\r\n                                    <MoonLoader color={\" #FF0000\"} size={'50'}/>}\r\n                            </div>\r\n                            <div className=\"chart-sessions-performance-score\">\r\n                                <div className=\"chart-average-sessions\">\r\n                                    {sessionsApi ? <AverageSessions data={sessionsApi.sessions}/> :\r\n                                        <MoonLoader color={\" #FF0000\"} size={'50'}/>}\r\n                                </div>\r\n                                <div className=\"chart-performance\">\r\n                                    {performanceApi ?\r\n                                        <Performance data={performanceApi.data} kind={performanceApi.kind}/> :\r\n                                        <MoonLoader color={\" #FF0000\"} size={'50'}/>}\r\n                                </div>\r\n                                <div className=\"chart-score\">\r\n                                    {userApi ? <Score data={userApi.score || userApi.todayScore}/> :\r\n                                        <MoonLoader color={\" #FF0000\"} size={'50'}/>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"stats\">\r\n                            {userApi ? (Object.keys(userApi.keyData).map((key) => (\r\n                                <Stat type={key} value={userApi.keyData[key]} key={key}/>\r\n                            ))) : <MoonLoader color={\" #FF0000\"} size={'50'}/>}\r\n                        </div>\r\n                    </div>\r\n                </section>) : (\r\n                <section className=\"homepage\">\r\n                    <div className=\"page-error404\">\r\n                        <h1 className=\"page-error404-title\">404</h1>\r\n                        <p className=\"page-error404-secondary\">Oups! La page que vous demandez n'existe pas.</p>\r\n                        <Link to=\"/\" className=\"page-error404-link\">Retourner sur la page d’accueil</Link>\r\n                    </div>\r\n                </section>)\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}